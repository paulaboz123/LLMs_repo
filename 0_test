import json
import os

os.environ["USE_MOCK"] = "1"  # test kontraktu bez OpenAI

import score  # score.py

def main():
    score.init()

    payload = {
        "document": {
            "contentDomain": {
                "byId": {
                    "c1": {"id": "c1", "text": "Supplier shall provide ISO 9001 and ISO 14001 certificates."},
                    "c2": {"id": "c2", "text": "Warranty period shall be at least 24 months from delivery."},
                    "c3": {"id": "c3", "text": "Installation shall be performed according to the installation manual."},
                    "c4": {"id": "c4", "text": "Table of contents."},
                    "c5": {"id": "c5", "text": "Ingress protection class IP55 is required."},
                    "c6": {"id": "c6", "text": "Delivery shall be DDP including customs clearance."},
                }
            }
        },
        "model": "WheShe",
        "num_preds": 3
    }

    out = score.run(json.dumps(payload))
    print(json.dumps(out, indent=2, ensure_ascii=False))

if __name__ == "__main__":
    main()
