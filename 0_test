from azure.core.exceptions import HttpResponseError

poller = ml_client.online_deployments.begin_create_or_update(deployment)

try:
    result = poller.result()
    print("DEPLOYMENT OK:", result.name, result.provisioning_state)
except HttpResponseError as e:
    print("\n=== HttpResponseError ===")
    print("Status:", getattr(e, "status_code", None))
    print("Message:", str(e))

    # często Azure ma więcej w e.response / e.error
    resp = getattr(e, "response", None)
    if resp is not None:
        try:
            print("\n--- response text ---")
            print(resp.text())
        except Exception:
            pass

    err = getattr(e, "error", None)
    if err is not None:
        try:
            print("\n--- error detail ---")
            print(err)
        except Exception:
            pass

    raise
except Exception as e:
    print("\n=== Unknown error ===")
    print(type(e), str(e))
    raise



